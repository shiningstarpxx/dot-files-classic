# tmux configuration
# 
###############################################################################

start-server

unbind %
bind \ split-window -h
bind - split-window -v

###############################################################################
# Change the command hot-key prefix to something that is
# easier on the fingers
###############################################################################

set -g prefix C-x


###############################################################################
# Set status bar look and feel
###############################################################################

set -g status-bg black
set -g status-fg white

set -g status-left '#[fg=green]#H'
set -g status-right '#[fg=yellow]#(uptime | cut -d "," -f 2-)'

###############################################################################
# Highlight active window
###############################################################################

set-window-option -g window-status-current-bg red

###############################################################################
# Set a visual signal if there is activity in a window
###############################################################################

setw -g monitor-activity on
set -g visual-activity on

###############################################################################
# Automatically set window title to the current process
###############################################################################

setw -g automatic-rename


###############################################################################
# Additional key bindings
###############################################################################

###############################################################################
# reload configuration file
###############################################################################
bind l source ~/.tmux.conf

###############################################################################
# quit
###############################################################################
bind-key q confirm-before kill-server

###############################################################################
# displays
###############################################################################
bind-key * list-clients

###############################################################################
# redisplay (default key in tmux is 'r')
###############################################################################
bind-key r refresh-client

###############################################################################
# choose window/session
###############################################################################
bind-key "'" choose-window
bind-key '"' choose-session


###############################################################################
# copy and paste
###############################################################################

bind-key [ copy-mode
bind-key ] paste-buffer -s \015

###############################################################################
# enable mouse selection in copy mode
###############################################################################
setw -g mode-mouse on

###############################################################################
# list all paste buffers (default key is '#')
###############################################################################
bind-key b list-buffers

###############################################################################
# choose buffer to paste interactively (default key was '=')
###############################################################################
bind-key p choose-buffer

###############################################################################
# delete the most recently copied buffer of text (default key was '-')
###############################################################################
bind-key x delete-buffer

###############################################################################
# navigate windows using hl, and ctrl-hl (no prefix)
###############################################################################
bind-key -r h select-window -t :-
bind-key -r l select-window -t :+
bind-key -nr C-h select-window -t :-
bind-key -nr C-l select-window -t :+

###############################################################################
# navigate panes using jk, and ctrl+jk (no prefix)
###############################################################################
bind-key -r j select-pane -t :.-
bind-key -r k select-pane -t :.+
bind-key -nr C-j select-pane -t :.-
bind-key -nr C-k select-pane -t :.+

###############################################################################
# Cycle to next pane
###############################################################################
bind-key -r Tab select-pane -t :.+

###############################################################################
# resize pane with arrow keys
# -r: can be repeated without pressing prefix
#     again (500ms after last '-r' action or prefix)
###############################################################################
# unbind Left
# unbind Right
# unbind Down
# unbind Up
# bind -r Left  resize-pane -L 2
# bind -r Right resize-pane -R 2
# bind -r Down  resize-pane -D 2
# bind -r Up    resize-pane -U 2

###############################################################################
# swap panes
###############################################################################
unbind "C-o"
bind-key -r J swap-pane -D
bind-key -r K swap-pane -U

###############################################################################
# select pane via mouse
###############################################################################
set -g mouse-select-pane on